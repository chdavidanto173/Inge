<!DOCTYPE html>
<html ng-app = "app">
    <head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        <title>Ingresar Usuario</title>
        
	
  <link href="http://netdna.bootstrapcdn.com/twitter-bootstrap/2.2.2/css/bootstrap-combined.min.css" rel="stylesheet">
   
  <link rel="stylesheet" href="\node_modules\bootstrap\dist\css\bootstrap.min.css">
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
  <script src="\node_modules\bootstrap\dist\js\bootstrap.min.js"></script>
  <link href="\node_modules\bootstrap\dist\css\bootstrap-datetimepicker.min.css" rel="stylesheet">
  <script type="text/javascript"src="http://cdnjs.cloudflare.com/ajax/libs/jquery/1.8.3/jquery.min.js"></script> 
    <script type="text/javascript"src="\node_modules\bootstrap\dist\js\bootstrap-datetimepicker.min.js"></script>
	
	 <link rel="stylesheet" href="../../../../datepicker.css">
        <link rel="stylesheet" href="../../../../bootstrap.css">   
	
    <!-- Angular--> 
	<script src="\node_modules\bootstrap\dist\js\angular.min.js"></script>
	
   </head>
   
    <body  id = "buscar" data-ng-init = "init()">  
	
	<nav class="navbar navbar-default" style="background-color:#60161E; ">
    <div class="container-fluid">
    <!-- ReEsponsive -->
    <div class="navbar-header" >

   <IMG SRC="../../../../img/situn2.png" WIDTH=100 HEIGHT=100  class="nav navbar-nav navbar-right">
    </div>
	
    <!-- Menu -->
    <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
      <ul class="nav navbar-nav"  style="margin-top:7px;">
        <li ><a href="#"style="color:white;">Ingresar Usuario</span> </a></li>
		<li><a href="\node_modules\bootstrap\dist\paginas\BusquedaUsuarios.html"style="color:#FFFFFF;"style="color:#FFFFFF;">Buscar</a></li> 
      </ul>
    
        <IMG SRC="../../../../img/situn2.png" WIDTH=100 HEIGHT=100  class="nav navbar-nav navbar-right">
		
    </div><!-- /.navbar-collapse -->
  </div><!-- /.container-fluid -->
</nav>
	  
	   <!---Cuerpo--->
	   <a href='#' onclick='MIU_14();return false' title='Ir Arriba'></a><!--Para subir la pagina--->
	   <body background="../../../../img/situn4.png" ng-app ng-controller = "ControllerAngular">
	   <center>
         <span class="text-danger"><h2>Ingresar Usuario</h2></span><br><br>
            <form name = "Formulario">
            <table id ="tablaIU">
                <tbody>
					<tr></tr>
				<tr>
                    <td><label class="text-danger">Nombre</label></td>
					<td><div id="div1" class="form-group"><textarea id="IU1" type="text" class="form-control"  onfocus="MIU_07(1)"></textarea></div></td>
				</tr>
                <tr>
                    <td> <label class="text-danger">Apellido</label> </td>
                   <td><div id="div2" class="form-group"><textarea id="IU2" type="text" class="form-control"  onfocus="MIU_07(2)"></textarea></div></td> 
				</tr>
                <tr>
                    <td> <label class="text-danger">identificación</label> </td>
                   <td><div id="div3" class="form-group"><textarea id="IU3" type="text" class="form-control"  onfocus="MIU_07(3)"></textarea></div></td> 
                </tr>
                <tr>
                    <td> <label class="text-danger">Contraseña </label></td>
                    <td><div id="div4" class="form-group"><textarea id="IU4" type="text" class="form-control"  onfocus="MIU_07(4)"></textarea></div></td> 
                </tr>
				 <tr>
                    <td> <label class="text-danger">Tipo de Usuario </label></td>
                    <td><div id="div5" class="form-group"><textarea id="IU5" type="text" class="form-control" onfocus="MIU_07(5)"></textarea></div></td> 
                </tr>

                <tr>
                    <td ><center><button type="button" class="btn btn-default"  ng-click ="guardarUsuario()">Guardar</button></center>
					</a></td>
                    <td ><center><button type="button" class="btn btn-default" onclick="MIU_05()">Cancelar</button></td></center>
                </tr>
					</center>		
				</tbody>
			 
			</table>  
		</form>  
		
			   </div>
		
		<div class="col-md-9"></div><!--Genera el espacio entre componentes---->	
		
			<div class="col-md-3"> 		
					<center><div class="date panel-danger" style="background-color:#60161E; color:white;" ></center><!-- div calendario----->
			 
					<script src="../../../../bootstrap-datepicker.js"></script> <!---Si se borra el pierde trate de acomodarlo 
		        en donde estan los otros js pero dice que no se encuentran, como que este y el bootstrap-datepicker.min.js chocan--->	
				</div>
			  
		     </div>
		
 <!--<script src="Usuario.js"></script>-->
	    
<script type="text/javascript">
 <!--document.addEventListener("DOMContentLoaded");
 
  $(document).ready(function () {
                
                $('.date').datepicker({         
            });
     });
 
 //Modificar
 function MIU_08($scope){//Realiza la consulta si la correspondencia a ingresar ya existe 7
	  if(MIC_02() == false){
	     $("#mensaje").text("Campos requeridos");
	     return;
		}
		let parametro = $('#IU1').val().toUpperCase(); 
	fetch( 'http://localhost:3000/api/TC/BO', {  
    method: 'POST', 
    datatype:'json',
    headers: {  
      "Content-type": "application/x-www-form-urlencoded"  
      } ,
    body: "TU_3="+ parametro
      }
	)	 
	.then(res => res.json())
     .then(obj => {
	if(obj.data[0]==null)
	   MIU_09($scope);
	   else{ 
	if(obj.data[0].tc_3=="SIN OFICIO")
		MIU_09($scope);
	else
	{
		$("#mensaje").text("Fallo al realizar la acción, la correspondencia a ingresar ya existe"); 
	}
	  
	  }
   })
	.then( _ => MIC_14())
	.catch(err => {
		console.log('Request failed', err)});
}

//Modificar	
function MIU_01($scope){ //Recoge los datos de los campos y realiza el fecth de inserción 
							//a la base de datos
	let e3 = $('#IU1').val().toUpperCase();
	let f3 = $('#IU2').val().toUpperCase();
	let g3 = $('#IU3').val().toUpperCase();
	let h3 = $('#IU4').val().toUpperCase();
	let i3 = '1'; // cambiar solo lo puse por que si no mamaron al ingresar
	let j3 = $('#IU5').val().toUpperCase();

 fetch( 'http://localhost:3000/api/TU/I', {  
    method: 'POST', 
    datatype:'json',
    headers: {  
      "Content-type": "application/x-www-form-urlencoded"  
      } ,
    body: "&TU_1="+ e3 +"&TU_2="+ f3 + 
	"&TU_3="+ g3 + "&TU_4="+ h3 +"&TU_5="+ i3+"&TU_5="+ j3
      }
	  )
  .then(function(response) {
		return response.text().then(function(res) {
				console.log("Resultado: "+res);
					if(res.indexOf("error")==-1){
						$("#mensaje").text("Acción realizada con exito");
							//document.getElementById("IC11").disabled=true; //VER
							console.log($("#enlace_checkbox").is(':checked'));
							if($("#enlace_checkbox").is(':checked'))
							{
								<!--MIC_06();
							}
					}else
						document.getElementById("mensaje").innerHTML="Fallo al realizar la acción";
				});
	})
  .catch(function(error) {  
  // document.getElementById("mensaje").innerHTML="Fallo al realizar la acción";
   console.log('Request failed', error);  
  });
}

 //Modificar
let app = angular.module('app', []);
function MIU_09($scope)//ControllerAngular  22
 {
	$scope.guardarUsuario =   _  => MIU_08($scope);
  }
   app.controller('ControllerAngular', MIU_09); 
   
<!--valida todos los campos--->
function MIU_02(){	 //Valida los campos 
	IU1 = true;
	IU2 = true;
	IU3 = true;
	IC4 = true;
	IC5 = true;

	if($("#IU1").val().length == 0){
		document.getElementById("div1").className ="form-group has-error" ;
		document.getElementById("IU1").title = "Campo Obligatorio";
		IU1 = false;
	}
	else{
	document.getElementById("div1").className =" form-group" ;
	document.getElementById("IU1").title = "" ;
	}
	if($("#IU2").val().length == 0){
		document.getElementById("div2").className = "form-group has-error" ;
		document.getElementById("IU2").title = "Campo Obligatorio";
		IU2 = false;
	}
	else{
	document.getElementById("div2").className ="  form-group" ;
	document.getElementById("IU2").title = "" ;
	}
	if($("#IU3").val().length == 0){
		document.getElementById("div3").className = "form-group has-error" ;
		document.getElementById("IU3").title = "Campo Obligatorio";
		IU3 = false;
	}
	else{
	document.getElementById("div3").className ="  form-group" ;
	document.getElementById("IU3").title = "" ;
	}
	if($("#IU4").val().length == 0){
		document.getElementById("div4").className = "form-group has-error" ;
		document.getElementById("IU4").title = "Campo Obligatorio";
		IU4 = false;
	}
	else{
	document.getElementById("div4").className ="form-group" ;
	document.getElementById("IU4").title = "" ;
	}
	if($("#IU5").val().length == 0){
		document.getElementById("div5").className = "form-group has-error" ;
		document.getElementById("IU5").title = "Campo Obligatorio";
		IU5 = false;
	}
	else{
	document.getElementById("div5").className ="  form-group" ;
	document.getElementById("IU5").title = "" ;
	}
	
		return (IU1 && IU2  && IU3  && IU4 && IU5 && MIC_05());	
}

function MIU_03(){//Limpia el valor de los campos de entrada
for(let i=0;i<10;i++){
	MIU_04(i);
}
	$("#IU1").val("");
	$("#IU2").val("");
	$("#IU3").val("");
	$("#IU4").val("");
	$("#IU5").val("");
}

function MIU_04(op){//Realiza un cambio de clase a los campos de entrada del formulario de la clase has-error a from-group
	switch(op){
	case 1: document.getElementById("div1").className ="form-group" ; break;
	case 2: document.getElementById("div2").className ="form-group" ; break;
	case 3: document.getElementById("div3").className ="form-group" ; break;
	case 4: document.getElementById("div4").className ="form-group" ;break;
	case 5: document.getElementById("div5").className ="form-group" ;break;
	
	default: break;
	}
}	
<!--limpia todos los campos--->
	
function MIU_05(){//Metodo de cancelar 9
MIU_03();
MIU_06();
}

function MIU_06(){//Limpia el div con el id=mensaje 19
$("#mensaje").text("");
}
 
function MIU_07(n){//Limpia los campos cuando se enfocan 20
  MIU_06();
  MIU_04(n);
 }
 	  
  
</script>
    </body>
</html>